[gd_scene load_steps=11 format=3 uid="uid://bhccb2wwe3npb"]

[ext_resource type="Script" path="res://levels/test_room/test_room.gd" id="1_7f8jk"]
[ext_resource type="PackedScene" uid="uid://daghraqki8qvm" path="res://entities/world/world.tscn" id="2_gjppo"]
[ext_resource type="PackedScene" uid="uid://c6uv20ndwawks" path="res://entities/npc_schedule/npc_schedule.tscn" id="3_v5cqt"]
[ext_resource type="Resource" uid="uid://devc4qge5vcux" path="res://events/mark_go_to_top.tres" id="4_wepfu"]
[ext_resource type="Resource" uid="uid://drf3o66fl1rx3" path="res://events/mark_go_to_bottom.tres" id="5_2dlqv"]
[ext_resource type="PackedScene" uid="uid://p74i2dc1keqf" path="res://entities/player/player.tscn" id="5_iaicj"]
[ext_resource type="PackedScene" uid="uid://ct1hhqerl2lsv" path="res://entities/npc/npc.tscn" id="6_0o5pf"]
[ext_resource type="PackedScene" uid="uid://borisdwggifsf" path="res://entities/camera_zone/camera_zone.tscn" id="6_mya4x"]
[ext_resource type="PackedScene" uid="uid://b1fj3v30b44hq" path="res://entities/place_marker/place_marker.tscn" id="8_cmy05"]

[sub_resource type="NavigationMesh" id="NavigationMesh_oreio"]
vertices = PackedVector3Array(-0.923996, -0.866948, -15.0177, 5.076, -0.866948, -15.2677, -2.674, -0.866948, -15.2677, -1.674, -0.866948, -14.2677, -0.923996, -0.866948, -15.0177, -2.674, -0.866948, -15.2677, 2.076, -0.866948, -6.01765, 0.076004, -0.866948, -6.01765, -1.174, -0.866948, -5.76765, -2.674, -0.866948, -5.01765, -2.674, -0.866948, 5.23235, 2.076, -0.866948, 5.23235, -1.674, -0.866948, -6.26765, -1.674, -0.866948, -14.2677, -2.674, -0.866948, -15.2677, -2.674, -0.866948, -5.01765, -1.174, -0.866948, -5.76765, -1.674, -0.866948, -6.26765, -2.674, -0.866948, -5.01765, 4.076, 2.63305, -11.2677, 4.076, 5.88305, -6.76765, 4.576, 5.88305, -6.51765, 0.076004, -0.866948, -6.01765, 2.076, -0.866948, -6.01765, 2.076, 2.63305, -11.2677, 0.326004, 2.63305, -13.0177, 0.276004, 2.63305, -11.6177, 4.576, 6.13305, 4.48235, 6.076, 6.13305, 4.48235, 6.076, 6.13305, -4.26765, 4.576, 5.88305, -6.51765, 0.326004, 2.63305, -13.0177, 2.076, 2.63305, -11.2677, 3.576, 2.63305, -11.7677, 6.076, 2.63305, -13.0177, 6.076, 2.63305, -13.0177, 4.076, 2.63305, -11.2677, 4.576, 5.88305, -6.51765, 6.076, 6.13305, -4.26765, 6.076, 6.13305, -5.72599, 6.076, 2.63305, -11.5593, 6.076, 2.63305, -13.0177, 3.576, 2.63305, -11.7677, 4.076, 2.63305, -11.2677, 4.326, -0.866948, -12.7677, 4.326, -0.866948, -12.2677, 5.076, -0.866948, -12.2677, 5.076, -0.866948, -12.7677, 5.076, -0.866948, -2.01765, 5.076, -0.866948, -8.01765, 4.326, -0.866948, -8.01765, 4.326, -0.866948, -2.01765, 4.326, -0.866948, -2.01765, 4.326, -0.866948, 4.23235, 5.076, -0.866948, 4.23235, 5.076, -0.866948, -2.01765, 4.326, 3.88305, -3.76765, 4.326, 3.88305, 4.23235, 5.826, 3.88305, 4.23235, 5.826, 3.88305, -3.76765)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(5, 4, 3), PackedInt32Array(8, 7, 9), PackedInt32Array(9, 7, 6), PackedInt32Array(9, 6, 10), PackedInt32Array(10, 6, 11), PackedInt32Array(13, 12, 14), PackedInt32Array(14, 12, 15), PackedInt32Array(16, 18, 17), PackedInt32Array(21, 20, 19), PackedInt32Array(25, 24, 26), PackedInt32Array(26, 24, 23), PackedInt32Array(26, 23, 22), PackedInt32Array(28, 27, 29), PackedInt32Array(29, 27, 30), PackedInt32Array(32, 31, 33), PackedInt32Array(33, 31, 34), PackedInt32Array(38, 37, 39), PackedInt32Array(39, 37, 36), PackedInt32Array(39, 36, 40), PackedInt32Array(40, 36, 35), PackedInt32Array(43, 42, 41), PackedInt32Array(47, 46, 44), PackedInt32Array(44, 46, 45), PackedInt32Array(51, 50, 48), PackedInt32Array(48, 50, 49), PackedInt32Array(55, 54, 52), PackedInt32Array(52, 54, 53), PackedInt32Array(59, 58, 56), PackedInt32Array(56, 58, 57)]
agent_radius = 1.0

[node name="TestRoom" type="Node3D"]
script = ExtResource("1_7f8jk")

[node name="World" parent="." instance=ExtResource("2_gjppo")]
minute = 58

[node name="NPCSchedule" parent="." instance=ExtResource("3_v5cqt")]
events = Array[Resource("res://entities/npc_schedule/npc_schedule_event.gd")]([ExtResource("4_wepfu"), ExtResource("5_2dlqv")])

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.203864, 0.847992, -0.489234, -1.00621e-15, 0.499728, 0.866182, 0.978999, -0.176583, 0.101877, 0, 4.9453, 0)
shadow_enabled = true

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.27811, 1.3237, 4.06612)
navigation_mesh = SubResource("NavigationMesh_oreio")

[node name="Floor" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.0798, -2.35814, -5.05696)
use_collision = true
collision_layer = 3
size = Vector3(11.0076, 2.11871, 23.9214)

[node name="Floor2" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.10228, -1.31265, -5.05696)
use_collision = true
collision_layer = 3
size = Vector3(0.637858, 2.11871, 23.9214)

[node name="Floor10" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.54168, -1.31265, -5.05696)
use_collision = true
collision_layer = 3
size = Vector3(0.637858, 2.11871, 23.9214)

[node name="Floor3" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(-4.37114e-08, 3.48787e-16, 1, 3.48787e-16, 1, -3.48787e-16, -1, 3.48787e-16, -4.37114e-08, 1.35025, -1.31265, -16.6616)
use_collision = true
collision_layer = 3
size = Vector3(0.637858, 2.11871, 10.6732)

[node name="Floor11" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(-4.37114e-08, 3.48787e-16, 1, 3.48787e-16, 1, -3.48787e-16, -1, 3.48787e-16, -4.37114e-08, 1.35025, -1.31265, 6.56948)
use_collision = true
collision_layer = 3
size = Vector3(0.637858, 2.11871, 10.6732)

[node name="Floor4" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 0.824156, -0.566363, 0, 0.566363, 0.824156, 1.32635, -0.848606, -9.45558)
use_collision = true
collision_layer = 3
size = Vector3(3.79231, 3.04494, 6.22777)

[node name="Floor6" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, -5.46342e-16, 2.87444e-16, 2.87444e-16, 0.824126, 0.566406, -5.46342e-16, -0.566406, 0.824126, 5.10245, 2.99091, -7.97275)
use_collision = true
collision_layer = 3
size = Vector3(3.79231, 2.30426, 6.22777)

[node name="Floor5" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.32635, 0.284612, -12.5331)
use_collision = true
collision_layer = 3
size = Vector3(3.79231, 3.78285, 2.75381)

[node name="Floor7" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.03809, 0.284612, -12.5331)
use_collision = true
collision_layer = 3
size = Vector3(3.79231, 3.78285, 2.75381)

[node name="Floor8" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.10218, 0.291752, -1.90985)
use_collision = true
collision_layer = 3
size = Vector3(3.79231, 6.24074, 14.6141)

[node name="Floor9" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.10218, 3.94149, -0.400556)
use_collision = true
collision_layer = 3
size = Vector3(3.79231, 3.5121, 11.5425)

[node name="Floor12" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.33762, 6.05125, -0.400556)
use_collision = true
collision_layer = 3
size = Vector3(0.320049, 0.75161, 11.5425)

[node name="NPC" parent="." instance=ExtResource("6_0o5pf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.12943, 1.47607, 7.21356)

[node name="Player" parent="." instance=ExtResource("5_iaicj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.84283, 1.04239, 1.57602)

[node name="Camera1" type="Camera3D" parent="."]
transform = Transform3D(0.738738, 0.155121, -0.6559, -7.63617e-10, 0.973155, 0.230152, 0.673993, -0.170022, 0.718906, -5.83999, 4.14903, 13.6607)
fov = 48.6

[node name="Camera2" type="Camera3D" parent="."]
transform = Transform3D(-0.983022, -0.0422301, 0.178562, -1.69914e-08, 0.973155, 0.230152, -0.183488, 0.226244, -0.956632, 3.91665, 5.63609, -18.9756)
fov = 48.6

[node name="Camera3" type="Camera3D" parent="."]
transform = Transform3D(0.0222875, -0.0904358, 0.995653, -0.00317754, 0.995889, 0.0905284, -0.999747, -0.00518137, 0.0219085, 17.0555, 9.43539, 1.92363)
fov = 48.6

[node name="CameraZone" parent="." node_paths=PackedStringArray("switch_to_camera") instance=ExtResource("6_mya4x")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.93376, 2.39404, -2.46009)
switch_to_camera = NodePath("../Camera1")
bounds = Vector3(7, 5, 5)

[node name="CameraZone2" parent="." node_paths=PackedStringArray("switch_to_camera") instance=ExtResource("6_mya4x")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.72911, 1.75132, -10.4385)
switch_to_camera = NodePath("../Camera2")
bounds = Vector3(10, 2.5, 5.39)

[node name="CameraZone3" parent="." node_paths=PackedStringArray("switch_to_camera") instance=ExtResource("6_mya4x")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.72805, 6.91874, -2.49335)
switch_to_camera = NodePath("../Camera3")
bounds = Vector3(4.38, 2, 2)

[node name="CameraZone4" parent="." node_paths=PackedStringArray("switch_to_camera") instance=ExtResource("6_mya4x")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.51924, 4.32647, -6.76847)
switch_to_camera = NodePath("../Camera2")
bounds = Vector3(8, 2, 3.2)

[node name="BottomOfStairs" parent="." instance=ExtResource("8_cmy05")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.25382, 0.772218, 9.51834)
place = 1

[node name="TopOfStairs" parent="." instance=ExtResource("8_cmy05")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.46431, 7.37785, 7.97975)
place = 1
